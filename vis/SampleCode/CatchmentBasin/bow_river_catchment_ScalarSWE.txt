# Initialize a Geo map with an unique name of the map
# function : initGeoMap
# param : chart_name - string - name of the chart
initGeoMap('Chart1')

# Define Animation control once at the beginning and add it into Geo map with chart name
# function : addAnimationToGeoChart
# param 1 : chart_name - string - name of the chart
# param 2 : year_from - int - start year of the animation (e.g. 1 Jan 2008)
# param 3 : year_to - int - end year of the animation (e.g. 31 Dec 2013)
# param 4 : animation_info - object(python Dictionary) - 
#             'title' -> Title of the animation panel
#             'position' -> Position of the animation panel (bottomright, bottomleft, topright, topleft)
animation_info = {
       'title': 'My Animation',
       'position': 'bottomright',
}
addAnimationToGeoChart('Chart1', 2008, 2013, animation_info)

# Define layer name and corresponding variable
layer_name = 'Scalar SWE'
variable_name = 'scalarSWE'

# Define Color List for a specific layer of the Geo map with chart name
# function : addColorListToGeoChart
# param 1 : chart_name - string - name of the chart
# param 2 : layer_name - string - name of the layer
# param 3 : color_list - array of string - list of all colors
color_list = ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#82d183', '#78c679', '#41ab5d', '#238443', '#006837', '#004529']
addColorListToGeoChart('Chart1', layer_name, color_list)

# Define Legend Info for a specific layer of the Geo map with chart name
# function : addLegendToGeoChart
# param 1 : chart_name - string - name of the chart
# param 2 : layer_name - string - name of the layer
# param 3 : legend_info - object(python Dictionary) - 
#             'legend_title' -> Title of the legend
#             'legend_position' -> Position of the legend (bottomright, bottomleft, topright, topleft)
#             'scale'(optional) -> Scales of the legend (default - linear)
#             'grade_list'(optional) - array of number - defined the grades of the scale specifically
legend_info = {
'legend_title': 'Scalar SWE (kg m-2)', 
'legend_position': 'bottomleft',
'scale': 'logarithmic'
}
addLegendToGeoChart('Chart1', layer_name, legend_info)

# Define Option Button for a specific layer of the Geo map with chart name (Right click of a shape and pop up options)
# function : addOptionButtonToGeoChart
# param 1 : chart_name - string - name of the chart
# param 2 : layer_name - string - name of the layer
# param 3 : button_display_text - string - Text of the button
# parma 4 : chart_type - string - Type of the chart (e.g. Heatmap, LineChart) 
# parma 4 : chart_option - object - Different things like aggreagation type, starting month, starting & ending year
chart_option_heatmap = {'aggreagation_type' : 'average', 'start_month': 'Nov', 'start_year': 2008, 'end_year': 2013}
chart_option_linechart = {'aggreagation_type' : 'average'} 

addOptionButtonToGeoChart('Chart1', layer_name, 'Show Average HeatMap', 'Heatmap', chart_option_heatmap)
addOptionButtonToGeoChart('Chart1', layer_name, 'Show Average Line Chart', 'LineChart', chart_option_linechart)

# Draw the chart 
# param 1 : chart_name - string - name of the chart
# param 2 : layer_name - string - name of the layer
# param 3 : json_filename - string - path of geo json
# parma 4 : variable_name - string - name of the variable
# parma 5 : connecting_id - string - name of the connecting id in geo json (e.g. HRU_ID, COMID)
# parma 6 : aggregation_type - string - Type of the aggreagation (e.g. average, sum) 
drawGeoChart('Chart1', layer_name, 'jeoJSONs/bow_river_catchment.json', variable_name, 'HRU_ID', 'average')